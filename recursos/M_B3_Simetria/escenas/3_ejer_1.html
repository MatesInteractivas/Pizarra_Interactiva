<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Simetría</title>
  <link rel="stylesheet" href="../css/style.css" type="text/css">
  <script type="text/javascript" src="../lib/descartes-min.js" charset="utf-8" external_fonts=""></script>
</head>

<body style="padding:0; margin:0; background:#CFF2FE;">
  <ajs name="Descartes" code="Descartes" width="1024" height="625">
    <param name="tamaño" value="1024x625">
    <param name="decimal_symbol" value=".">
    <param name="image_loader" value="vacio.gif">
    <param name="nombre" value="">
    <param name="Versión" value="5.5">
    <param name="editable" value="no">
    <param name="Idioma" value="español">
    <param name="Botones" value="créditos=no config=no inicio=no limpiar=no filas_norte=0 filas_sur=0 ancho_este=150 ancho_oeste=150 alto=23 ">
    <param name="E_01" value="tipo='R2' id='pleca' ancho='100%' alto='100%' fijo='sí' fondo='6ad4f7' red='no' red10='no' ejes='no' ">
    <param name="E_02" value="tipo='R2' id='mensajes' x='15' y='110' ancho='470' alto='50' dibujar-si='verificado' fijo='sí' fondo='ffffffff' red='no' red10='no' ejes='no' ">
    <param name="E_03" value="tipo='R2' id='E1' x='15' y='110' ancho='994' alto='450' fijo='sí' escala='1' O.x='-50%' O.y='-50%' fondo='ffffffff' red='no' red10='no' ejes='no' ">
    <param name="E_04" value="tipo='R2' id='grafica2' x='15' y='110' ancho='994' alto='450' dibujar-si='grafica2.dibujar_si' fijo='sí' fondo='ffffffff' red='no' red10='no' ejes='no' ">
    <param name="E_05" value="tipo='R2' id='glassGraf' x='15' y='110' ancho='994' alto='450' dibujar-si='(grafica2.dibujar_si)&(pasoInter==1)' fijo='sí' escala='5' fondo='ffffffff' red='no' red10='no' ejes='no' ">
    <param name="E_06" value="tipo='R2' id='ctrEdicion' x='pleca._w-48-17' y='112' ancho='48' alto='136' dibujar-si='(ctrEdicion.dibujar_si)&(!verificado|!correcto)' fijo='sí' escala='1' red='no' red10='no' ejes='no' border_width='1' border_color='34495e' border_radius='3' ">
    <param name="E_07" value="tipo='R3' R3='sí' id='Esp3D' x='15' y='110' ancho='994' alto='450' dibujar-si='verificado' fijo='sí' fondo='ffffffff' despliegue='pintor' ">
    <param name="C_01" value="id='otroBien' interfaz='botón' tipo='numérico' región='interior' espacio='pleca' nombre='Otro ejercicio' expresión='(pleca._w-160-15,pleca._h-35-15,160,35)' color='ffffff' color-int='00b894' negrita='sí' fuente puntos='18' acción='calcular' parámetro='initEjercicio()' dibujar-si='(verificado)&(correcto)' extra_style='flat=1|class=button|overColor=008F73|downColor=00705A' ">
    <param name="C_02" value="id='modif' interfaz='botón' tipo='numérico' región='interior' espacio='pleca' nombre='Modificar' expresión='(15,pleca._h-35-15,120,35)' color='ffffff' color-int='00b894' negrita='sí' fuente puntos='18' acción='calcular' parámetro='verificado=0' dibujar-si='(verificado)&(!correcto)' extra_style='flat=1|class=button|overColor=008F73|downColor=00705A' ">
    <param name="C_03" value="id='verif' interfaz='botón' tipo='numérico' región='interior' espacio='pleca' nombre='Verificar' expresión='((pleca._w-120)/2,pleca._h-35-15,120,35)' color='ffffff' color-int='00b894' negrita='sí' fuente puntos='18' acción='calcular' parámetro='tt=(pasoInter==1)?verificarPaso1():0;tt=(pasoInter==0)?verificarPaso0():0;;;' dibujar-si='(!verificado)' extra_style='flat=1|class=button|overColor=008F73|downColor=00705A' ">
    <param name="C_04" value="id='otro' interfaz='botón' tipo='numérico' región='interior' espacio='pleca' nombre='Otro ejercicio' expresión='(pleca._w-160-15,pleca._h-35-15,160,35)' color='ffffff' color-int='00b894' negrita='sí' fuente puntos='18' acción='calcular' parámetro='initEjercicio()' dibujar-si='(!verificado)' extra_style='flat=1|class=button|overColor=008F73|downColor=00705A' ">
    <param name="C_05" value="id='rot3D' tipo='numérico' interfaz='barra' región='exterior' espacio='E1' expresión='(rot3D.x,-rot3D.y,250,25)' min='0' max='pi+0.001' decimales='9' fijo='no' visible='no' dibujar-si='(indexPaso==4)' ">
    <param name="C_06" value="id='___CTR_EDIT_______' interfaz='botón' tipo='numérico' región='interior' espacio='E1' nombre='______GRAFICA_______' expresión='(0,0,0,0)' color='222222' color-int='f0f8ff' fuente puntos='19' acción='calcular' dibujar-si='0' ">
    <param name="C_07" value="id='btnCentrar' interfaz='botón' tipo='numérico' región='interior' espacio='ctrEdicion' expresión='(btnCentrar.x,btnCentrar.y,btnCentrar.w,btnCentrar.h)' color='222222' color-int='f0f8ff' fuente puntos='19' imagen='images/tools/marcoBtn/btn.png' acción='calcular' parámetro='centrarGraf2()\nctrEdicion.dibujar_si=1' dibujar-si='btnCentrar.dibujar_si' ">
    <param name="C_08" value="id='btnClear' interfaz='botón' tipo='numérico' región='interior' espacio='ctrEdicion' expresión='(btnClear.x,btnClear.y,btnClear.w,btnClear.h)' color='222222' color-int='f0f8ff' fuente puntos='19' imagen='images/tools/marcoBtn/btn.png' acción='calcular' parámetro='tt=(pasoInter==0)?limpiarPuntos():0\ntt=(pasoInter==1)?limpiarRectas():0' ">
    <param name="C_09" value="id='btnNewObj' interfaz='botón' tipo='numérico' región='interior' espacio='ctrEdicion' expresión='(btnNewObj.x,btnNewObj.y,btnNewObj.w,btnNewObj.h)' color='222222' color-int='f0f8ff' fuente puntos='19' imagen='images/tools/marcoBtn/btn.png' acción='calcular' parámetro='editorG.tipoEdicion=editGraf.NUEVO_PUNTO\neditorG.tipoEdicion=1\nctrEdicion.dibujar_si=1' ">
    <param name="C_10" value="id='btnBorrObj' interfaz='botón' tipo='numérico' región='interior' espacio='ctrEdicion' expresión='(btnBorrObj.x,btnBorrObj.y,btnBorrObj.w,btnBorrObj.h)' color='222222' color-int='f0f8ff' fuente puntos='19' imagen='images/tools/marcoBtn/btn.png' acción='calcular' parámetro='editorG.tipoEdicion=editGraf.BORRAR_PUNTO\neditorG.tipoEdicion=2\nctrEdicion.dibujar_si=1' activo-si='pasoInter==0' ">
    <param name="C_11" value="id='btnEditObj' interfaz='botón' tipo='numérico' región='interior' espacio='ctrEdicion' expresión='(btnEditObj.x,btnEditObj.y,btnEditObj.w,btnEditObj.h)' color='222222' color-int='f0f8ff' fuente puntos='19' imagen='images/tools/marcoBtn/btn.png' acción='calcular' parámetro='regla.visible=!regla.visible\n\nregla.A1.x=-2\nregla.A2.x=2\nregla.A1.y=0\nregla.A2.y=0\n\neditorG.tipoEdicion=-1\n_strEstadoEdicion=|No editar|\nctrEdicion.dibujar_si=1\n' dibujar-si='0' activo-si='0' ">
    <param name="C_12" value="id='btnSelObj' interfaz='botón' tipo='numérico' región='interior' espacio='ctrEdicion' expresión='(btnSelObj.x,btnSelObj.y,btnSelObj.w,btnSelObj.h)' color='222222' color-int='f0f8ff' fuente puntos='19' imagen='images/tools/marcoBtn/btn.png' acción='calcular' parámetro='editorG.tipoEdicion=-1\nregla.visible=0\n_strEstadoEdicion=|No editar|\nctrEdicion.dibujar_si=1' dibujar-si='0' ">
    <param name="C_13" value="id='imgToolAct' interfaz='botón' tipo='numérico' región='interior' espacio='grafica2' expresión='(imgToolAct.x-3,imgToolAct.y-3,imgToolAct.w,imgToolAct.h)' color='222222' color-int='f0f8ff' fuente puntos='19' imagen='images/tools/marcoBtn/btn.png' acción='calcular' parámetro='ctrEdicion.dibujar_si=(!ctrEdicion.dibujar_si)' dibujar-si='0' ">
    <param name="C_14" value="id='imgToolActGlass' interfaz='botón' tipo='numérico' región='interior' espacio='glassGraf' expresión='(imgToolAct.x-3,imgToolAct.y-3,imgToolAct.w,imgToolAct.h)' color='222222' color-int='f0f8ff' fuente puntos='19' imagen='images/tools/marcoBtn/btn.png' acción='calcular' parámetro='ctrEdicion.dibujar_si=(!ctrEdicion.dibujar_si)' dibujar-si='0' ">
    <param name="C_15" value="id='p1' tipo='gráfico' espacio='grafica2' color='0000ff' color-int='ff0000' tamaño='4' expresión='(p1.x,p1.y)' dibujar-si='0' activo-si='0' ">
    <param name="C_16" value="id='p2' tipo='gráfico' espacio='grafica2' color='00ffff' color-int='00ffff' tamaño='8' expresión='(p2.x,p2.y)' constricción='(x-p1.x)^2+(y-p1.y)^2=(100/grafica2.escala)^2' dibujar-si='0' activo-si='0' ">
    <param name="C_17" value="id='p3' tipo='gráfico' espacio='grafica2' color='01020000' color-int='c600ff00' tamaño='8' expresión='(p3.x,p3.y)' constricción='(y-p1.y)*(p2.x-p1.x)=(x-p1.x)*(p2.y-p1.y)' dibujar-si='(!verificado)' activo-si='(!verificado)' ">
    <param name="C_18" value="id='p4' tipo='gráfico' espacio='grafica2' color='ba020000' color-int='b4007e00' tamaño='8' expresión='(p4.x,p4.y)' constricción='(x-p3.x)^2+(y-p3.y)^2=(max(0.00001,radioAux)/2)^2' dibujar-si='(radioAux>0)' activo-si='(radioAux>0)&(!verificado)' ">
    <param name="C_19" value="id='_CTR_GRAF_POS_' interfaz='botón' tipo='numérico' región='exterior' espacio='E1' nombre='CFG POS' expresión='(0,0)' color='222222' color-int='f0f8ff' fuente puntos='19' acción='calcular' parámetro='verAcomodar=!verAcomodar' ">
    <param name="C_20" value="id='outputCFG' tipo='numérico' interfaz='campo de texto' solo_texto='sí' región='exterior' espacio='E1' expresión='(0,0)' visible='sí' acción='calcular' parámetro='_strSalidaCtr=outputCFG\ntt=(outputCFG==&squot;0&squot;)?printPosCtrGraf():0\noutputCFG=_strSalidaCtr' ">
    <param name="C_21" value="id='grafica2' tipo='gráfico' espacio='E1' color='0000ff' color-int='ff0000' tamaño='4' expresión='(grafica2.x,grafica2.y)' dibujar-si='verAcomodar' activo-si='verAcomodar' ">
    <param name="C_22" value="id='porRa' tipo='gráfico' espacio='E1' color='0000ff' color-int='ff0000' tamaño='4' expresión='(porRa.x,porRa.y)' dibujar-si='verAcomodar' activo-si='verAcomodar' ">
    <param name="A_01" value="id='ordenPuntos' vector='sí' evaluar='una-sola-vez' tamaño='100+nOrdenP' tipo='vector' ">
    <param name="A_02" value="id='mRot' matriz='sí' evaluar='una-sola-vez' columnas='3' filas='3' expresión='mRot[0,0]=0;mRot[1,0]=0;mRot[2,0]=0;mRot[0,1]=0;mRot[1,1]=0;mRot[2,1]=0;mRot[0,2]=0;mRot[1,2]=0;mRot[2,2]=0;' tipo='matriz' ">
    <param name="A_03" value="id='puntos3D' matriz='sí' evaluar='una-sola-vez' columnas='100' filas='100' expresión=';' tipo='matriz' ">
    <param name="A_04" value="id='pOriginales' matriz='sí' evaluar='una-sola-vez' columnas='100' filas='4' expresión=';' tipo='matriz' ">
    <param name="A_05" value="id='pReflejados' matriz='sí' evaluar='una-sola-vez' columnas='100' filas='4' expresión=';' tipo='matriz' ">
    <param name="A_06" value="id='__AUX_POSICIONES__' expresión='0' tipo='variable' ">
    <param name="A_07" value="id='nombresCtrRetro' vector='sí' evaluar='una-sola-vez' tamaño='2' expresión='nombresCtrRetro[0]=&squot;grafica2&squot;;nombresCtrRetro[1]=&squot;porRa&squot;;;;;;;;;;;;;;;;;' tipo='vector' ">
    <param name="A_08" value="id='printPosCtrGraf()' algoritmo='sí' expresión='0' inicio='_strSalidaCtr=&squot;&squot;;_indexCtr=0;_separator=&squot;@&squot;;' hacer='_varName=nombresCtrRetro[_indexCtr];_varXName=_varName+&squot;.x&squot;;_varYName=_varName+&squot;.y&squot;;;_varXVal=_Eval_(_varXName);_varYVal=_Eval_(_varYName);;_strSalidaCtr=_strSalidaCtr+_varXName+&squot;=&squot;+_varXVal+_separator;_strSalidaCtr=_strSalidaCtr+_varYName+&squot;=&squot;+_varYVal+_separator+_separator;;_indexCtr=_indexCtr+1' mientras='_indexCtr<nombresCtrRetro.long' tipo='función' ">
    <param name="A_09" value="id='acomodaDep()' algoritmo='sí' expresión='x' hacer='ctrEdicion.x=grafica2.x+grafica2._w-ctrEdicion.w-3;ctrEdicion.y=-(grafica2.y-grafica2.h+ctrEdicion.h+3);;_ctrEdicion.x=grafica2.x+3;ctrEdicion.y=-grafica2.y+3;;RA.x=porRa.x;RA.y=-porRa.y' tipo='función' ">
    <param name="A_10" value="id='__FUNCIONES_EDITOR_______________' expresión='0' tipo='variable' ">
    <param name="A_11" value="id='editorG.snapPunto(cualPunto)' algoritmo='sí' expresión='x' hacer='_tmpX=editorG.G.puntos_X[cualPunto];_tmpY=editorG.G.puntos_Y[cualPunto];;_ang=anguloPP(p2.x,p2.y,_tmpX,_tmpY);_angC=(_ang<0)|(_ang>pi);;tt=(_angC)?proyToRecta(0,0,p2.x,p2.y,_tmpX,_tmpY):0;_tmpX=(_angC)?_xProy:_tmpX;_tmpY=(_angC)?_yProy:_tmpY;;_indRefl=sobreCualRefl(_tmpX,_tmpY);_tmpX=(_indRefl<0)?_tmpX:pReflejados[_indRefl,0];_tmpY=(_indRefl<0)?_tmpY:pReflejados[_indRefl,1];;editorG.G.puntos_Y[cualPunto]=_tmpY;editorG.G.puntos_X[cualPunto]=_tmpX;;_borrar=(_angC)&(cualPunto==(editorG.G.n_puntos-1))&(_recienPress);editorG.G.n_puntos=editorG.G.n_puntos-(_borrar)' tipo='función' ">
    <param name="A_12" value="id='initMacros()' algoritmo='sí' expresión='x' hacer='RA.transp=0.0;RA.rojo=1.0;RA.verde=0.93;RA.azul=0.32;RA.w=290;RA.h=250;;SOM1.transp=0.8;SOM1.rojo=0.2;SOM1.verde=0.8;SOM1.azul=0.99;SOM1.Top=500;SOM1.Left=300;SOM2.transp=0.8;SOM2.rojo=0.2;SOM2.verde=0.8;SOM2.azul=0.99;SOM2.Top=500;SOM2.Left=300;;;editorG.G.rojo=0;editorG.G.verde=0.8;editorG.G.azul=0;editorG.G.n_puntos=0;editorG.G.verMarco=0;editorG.actualizar();;;regla.puntos.ancho=8;;;' tipo='función' ">
    <param name="A_13" value="id='actGrafEdit()' algoritmo='sí' expresión='x' hacer='glassGraf.Ox=grafica2.Ox;glassGraf.Oy=grafica2.Oy;glassGraf.escala=grafica2.escala;Esp3D.escala=grafica2.escala;Esp3D.rot.x=0;Esp3D.rot.y=90;Esp3D.rot.z=90;;;;_movP=(editorG.tipoEdicion==editorG.BORRAR_PUNTO);_movP=_movP|(editorG.tipoEdicion==editorG.NUEVO_PUNTO);_movP=0;moviendoPuntos=_movP;;_tmpMouseX=(_movP)?glassGraf.mouse_x:grafica2.mouse_x;_tmpMouseY=(_movP)?glassGraf.mouse_y:grafica2.mouse_y;_tmpMousePress=(_movP)?glassGraf.mouse_pressed:grafica2.mouse_pressed;;editorG.G.escalaX=1;editorG.G.escalaY=1;;editorG.esp.WIDTH=grafica2.w;editorG.esp.HEIGHT=grafica2.h;editorG.esp.Ox=grafica2.Ox;editorG.esp.Oy=grafica2.Oy;editorG.esp.escala=grafica2.escala;editorG.esp.mouseX=_tmpMouseX;editorG.esp.mouseY=_tmpMouseY;editorG.esp.mousePressed=_tmpMousePress;;;;marcoG1.Esp.w=grafica2.w;marcoG1.Esp.h=grafica2.h;marcoG1.Esp.x=grafica2.x;marcoG1.Esp.y=-grafica2.y;marcoG1.margenImg=0;;regla.Esp.w=grafica2.w;regla.Esp.h=grafica2.h;regla.Esp.x=grafica2.x;regla.Esp.y=-grafica2.y;regla.Esp.Ox=grafica2.Ox;regla.Esp.Oy=grafica2.Oy;regla.Esp.escala=grafica2.escala;;_recienPress=(_tmpMousePress)&(!_tmpMousePressAnt);_tmpMousePressAnt=_tmpMousePress;;editorG.actualizar() ;;;' tipo='función' ">
    <param name="A_14" value="id='__FUNCIONES________________' expresión='0' tipo='variable' ">
    <param name="A_15" value="id='distPtoP(_p1.x,_p1.y,_p2.x,_p2.y)' algoritmo='sí' expresión='_dist' hacer='_dist=(_p1.x-_p2.x)^2+(_p1.y-_p2.y)^2;_dist=sqrt(_dist)' tipo='función' ">
    <param name="A_16" value="id='anguloPP(_x1,_y1,_x2,_y2)' algoritmo='sí' expresión='_alfa' hacer='_NU=sqrt(_x1^2+_y1^2);_Ux=_x1/_NU;_Uy=_y1/_NU;;;_NV=sqrt(_x2^2+_y2^2);_Vx=_x2/_NV;_Vy=_y2/_NV;;;_cosa=_Ux*_Vx+_Uy*_Vy;_sena=_Ux*_Vy-_Uy*_Vx;;_alfa=acos(_cosa);_alfa=(_sena<0)?(2*pi-_alfa):_alfa' tipo='función' ">
    <param name="A_17" value="id='proyToRecta(_x1,_y1,_x2,_y2,x,y)' algoritmo='sí' expresión='x' hacer='_N=distPtoP(_x1,_y1,_x2,_y2);_U=(_x2-_x1)/_N;_V=(_y2-_y1)/_N;_Pr=_U*(x-_x1)+_V*(y-_y1);_xProy=_x1+_Pr*_U;_yProy=_y1+_Pr*_V' tipo='función' ">
    <param name="A_18" value="id='calcImgToolAct()' algoritmo='sí' expresión='1' hacer='_img.x=imgToolAct.x;_img.y=imgToolAct.y;_img.w=36;_img.h=36;;_img.x2=_img.x+_img.w;_img.y2=_img.y+_img.h;;_tmpEd=editorG.tipoEdicion;_img.src=&squot;images/tools/cursor.png&squot;;;_img.src=(_tmpEd!=0)?_img.src:&squot;images/tools/mano.png&squot;;_img.src=(_tmpEd!=1)?_img.src:&squot;images/tools/lapiz.png&squot;;_img.src=(_tmpEd!=2)?_img.src:&squot;images/tools/goma.png&squot;;_img.src=(_tmpEd!=3)?_img.src:&squot;images/tools/centrar.png&squot;;_img.src=(_tmpEd!=4)?_img.src:&squot;images/tools/mano.png&squot;;' tipo='función' ">
    <param name="A_19" value="id='calcBounds()' algoritmo='sí' expresión='x' inicio='_indexP=0;bounds.x=0;bounds.y=0;bounds.x2=0;bounds.y2=0;' hacer='_pOrig.x=abs(pOriginales[_indexP,0]);_pOrig.y=abs(pOriginales[_indexP,1]);;_pRefl.x=abs(pReflejados[_indexP,0]);_pRefl.y=abs(pReflejados[_indexP,1]);;bounds.x=max(bounds.x,max(_pOrig.x,_pRefl.x));bounds.y=max(bounds.y,max(_pOrig.y,_pRefl.y));;bounds.x2=-bounds.x;bounds.y2=-bounds.y;;bounds.w=(2*bounds.x);bounds.h=(2*bounds.y);;_indexP=_indexP+1' mientras='(_indexP<pOriginales.n)' tipo='función' ">
    <param name="A_20" value="id='centrarGraf2()' algoritmo='sí' expresión='x' hacer='calcBounds();;_wTmp=grafica2.w-20;_hTmp=grafica2.h-20;;grafica2.escala=min(_wTmp/bounds.w,_hTmp/bounds.h)' tipo='función' ">
    <param name="A_21" value="id='__FUN_2D________________' expresión='0' tipo='variable' ">
    <param name="A_22" value="id='reflejaP_RectMB(_thetaRect,_bRect,_xP,_yP)' algoritmo='sí' expresión='x' hacer='xTemp=_xP;yTemp=_yP-_bRect;;_fact1=cos(2*_thetaRect);_fact2=sin(2*_thetaRect);;;_Res.x=xTemp*_fact1+yTemp*_fact2;_Res.y=xTemp*_fact2-yTemp*_fact1+_bRect;;;' tipo='función' ">
    <param name="A_23" value="id='reflejaPuntos()' algoritmo='sí' expresión='x' inicio='_index=0' hacer='_xTmp=pOriginales[_index,0];_yTmp=pOriginales[_index,1];;;_tmpVx=p2.x-p1.x;_tmpVy=p2.y-p1.y;_angRect=anguloPP(1,0,_tmpVx,_tmpVy);_cosA=cos(_angRect);_cosA=(_cosA==0)?0.0000001:_cosA;_tmpR=p1.x/_cosA;_b=-_tmpR*sen(_angRect)+p1.y;;reflejaP_RectMB(_angRect,_b,_xTmp,_yTmp);pReflejados[_index,0]=_Res.x;pReflejados[_index,1]=_Res.y;;_index=_index+1' mientras='_index<pOriginales.n' tipo='función' ">
    <param name="A_24" value="id='sobreCualRefl(_coordX,_coordY)' algoritmo='sí' expresión='_res' inicio='_indP=0;_delta=12/grafica2.escala;_res=-1' hacer='_xP=pReflejados[_indP,0];_yP=pReflejados[_indP,1];;_dist=distPtoP(_xP,_yP,_coordX,_coordY);;_res=(_dist<=_delta)?_indP:_res;;_indP=_indP+1' mientras='(_indP<pOriginales.n)&(_res<0)' tipo='función' ">
    <param name="A_25" value="id='limpiaVerifRef()' algoritmo='sí' expresión='x' inicio='_index=0' hacer='pReflejados[_index,2]=0;;_index=_index+1' mientras='_index<pOriginales.n' tipo='función' ">
    <param name="A_26" value="id='snapRectaAux()' algoritmo='sí' expresión='x' inicio='_indP=((_sent==-1)?(pOriginales.n-1):0);_delta=5/grafica2.escala;' hacer='_tmpX=pOriginales[_indP,0];_tmpY=pOriginales[_indP,1];;proyToRecta(0,0,p2.x,p2.y,_tmpX,_tmpY);;_dist=distPtoP(_xProy,_yProy,p3.x,p3.y);_doSnap=(_dist<_delta);;;p3.x=(_doSnap)?_xProy:p3.x;p3.y=(_doSnap)?_yProy:p3.y;;p4.x=(_doSnap)?(_tmpX+_xProy)/2:p4.x;p4.y=(_doSnap)?(_tmpY+_yProy)/2:p4.y;;radioAux=(_doSnap)?distPtoP(_xProy,_yProy,_tmpX,_tmpY):-1;;;_indP=_indP+_sent;;_conti=(_sent==-1)?(_indP>=0):(_indP<pOriginales.n)' mientras='(_conti)&(!_doSnap)' tipo='función' ">
    <param name="A_27" value="id='__FUN_3D________________' expresión='0' tipo='variable' ">
    <param name="A_28" value="id='surphFig(_nv)' algoritmo='sí' expresión='_fig.x' hacer='_indP=ent(_nv*pOriginales.n+0.499);_indP=((_indP<0)|(_indP>=pOriginales.n))?0:_indP;_fig.x=puntos3D[_indP,0];_fig.y=puntos3D[_indP,1];_fig.z=puntos3D[_indP,2];;_noTodo0=!((_fig.x==0)&(_fig.y==0)&(_fig.z==0));;_fig.x=(_noTodo0)?_fig.x:puntos3D[_indP,0];_fig.y=(_noTodo0)?_fig.y:puntos3D[_indP,1];_fig.z=(_noTodo0)?_fig.z:puntos3D[_indP,2]' tipo='función' ">
    <param name="A_29" value="id='actMatrizRot(_theta)' algoritmo='sí' expresión='x' hacer=';_c=cos(_theta);_s=sen(_theta);_norm=distPtoP(0,0,p2.x,p2.y);_u1=p2.x/_norm;_u2=p2.y/_norm;_u3=0;;_sh=(_u1<0)?-1:1;_u1=_u1*_sh;_u2=_u2*_sh;;;_uMenosC=(1-_c);;mRot[0,0]=_uMenosC*_u1*_u1+_c;mRot[1,0]=_uMenosC*_u1*_u2+_s*_u3;mRot[2,0]=_uMenosC*_u1*_u3-_s*_u2;;mRot[0,1]=_uMenosC*_u2*_u1-_s*_u3;mRot[1,1]=_uMenosC*_u2*_u2+_c;mRot[2,1]=_uMenosC*_u2*_u3+_s*_u1;;mRot[0,2]=_uMenosC*_u1*_u3+_s*_u2;mRot[1,2]=_uMenosC*_u2*_u3+_s*_u1;mRot[1,2]=_uMenosC*_u3*_u3+_c;' tipo='función' ">
    <param name="A_30" value="id='rotaPunto3D(_P.x,_P.y,_P.z)' algoritmo='sí' expresión='x' hacer='_res.x=mRot[0,0]*_P.x+mRot[0,1]*_P.y+mRot[0,2]*_P.z;_res.y=mRot[1,0]*_P.x+mRot[1,1]*_P.y+mRot[1,2]*_P.z;_res.z=mRot[2,0]*_P.x+mRot[2,1]*_P.y+mRot[2,2]*_P.z' tipo='función' ">
    <param name="A_31" value="id='actualizaPuntos3D()' algoritmo='sí' expresión='x' inicio='_indP=0; entroAct=entroAct+1; actMatrizRot(rot3D)' hacer='_tmpX=pOriginales[_indP,0];_tmpY=pOriginales[_indP,1];;rotaPunto3D(_tmpX,_tmpY,0);puntos3D[_indP,0]=_res.x;puntos3D[_indP,1]=_res.y;puntos3D[_indP,2]=_res.z;;_indP=_indP+1' mientras='_indP<pOriginales.n' tipo='función' ">
    <param name="A_32" value="id='limpiarPuntos()' algoritmo='sí' expresión='x' hacer='editorG.G.n_puntos=0;editorG.activo=-1;regla.visible=0;ctrEdicion.dibujar_si=1;radioAux=-1;p3.x=0;p3.y=0' tipo='función' ">
    <param name="A_33" value="id='limpiarRectas()' algoritmo='sí' expresión='x' hacer='ordenPuntos[0]=indexPrimP;nOrdenP=1' tipo='función' ">
    <param name="A_34" value="id='initPuntosOrig()' algoritmo='sí' expresión='x' inicio='_indP=0;_ang=2*pi/pOriginales.n;_r=_r/2;_angInit=rnd*pi' hacer='_r2=(rnd*0.5+0.5)*_r;_angAct=_angInit+_ang*_indP;;_tmpX=_centroFig.x+_r*cos(_angAct);_tmpY=_centroFig.y+_r*sen(_angAct);;pOriginales[_indP,0]=_tmpX;pOriginales[_indP,1]=_tmpY;_indP=_indP+1' mientras='_indP<pOriginales.n' tipo='función' ">
    <param name="A_35" value="id='ponPaso0()' algoritmo='sí' expresión='x' inicio='pasoInter=0' hacer='_ang=pi*rnd;indexPrimP=-1;p2.x=10*cos(_ang);p2.y=10*sen(_ang);;p3.x=0;p3.y=0;;_ang=_ang-pi/2;_r=4;_centroFig.x=_r*cos(_ang);_centroFig.y=_r*sen(_ang);;ctrEdicion.dibujar_si=1;editorG.tipoEdicion=1;editorG.G.n_puntos=0;pOriginales.n=ent(rnd*5)+3;initPuntosOrig();reflejaPuntos();limpiaVerifRef();centrarGraf2();;;radioAux=-1;verificado=0;nOrdenP=0;;' tipo='función' ">
    <param name="A_36" value="id='ponPaso1()' algoritmo='sí' expresión='x' inicio='pasoInter=1' hacer='editorG.tipoEdicion=1;_ffac=2*(grafica2._w+grafica2._h)/grafica2.escala;p3.x=p1.x+(p2.x-p1.x)*(_ffac);p3.y=p1.y+(p2.y-p1.y)*(_ffac);verificado=0;correcto=0;radioAux=-1;verificado=0;puntosDif=0;;;ordenPuntos[0]=indexPrimP;nOrdenP=1' tipo='función' ">
    <param name="A_37" value="id='initEjercicio()' algoritmo='sí' expresión='x' hacer='ponPaso0()' tipo='función' ">
    <param name="A_38" value="id='verificarPaso0()' algoritmo='sí' expresión='x' hacer='verificado=1;;puntosDif=(pOriginales.n-editorG.G.n_puntos);_bien=(puntosDif==0);;_bienTodos=(puntosDif==0)?verifPuntosAux():0;correcto=(_bien)&(_bienTodos);;tt=(correcto)?ponPaso1():0' tipo='función' ">
    <param name="A_39" value="id='estaPuntoRef(_px,_py)' algoritmo='sí' expresión='_resP' inicio='_indPR=0;' hacer='_origX=pReflejados[_indPR,0];_origY=pReflejados[_indPR,1];_antEnco=pReflejados[_indPR,2];;_dist=distPtoP(_origX,_origY,_px,_py);;_encontrado=(!_antEnco)&(_dist<0.00001);_resP=(_encontrado)?_indPR:-1;;pReflejados[_indPR,2]=_antEnco|_encontrado;;_indPR=_indPR+1;' mientras='(_indPR<pOriginales.n)&(_resP<0)' tipo='función' ">
    <param name="A_40" value="id='verifPuntosAux()' algoritmo='sí' expresión='_res' inicio='limpiaVerifRef();_indP=0;_res=1;indexPrimP=-1;' hacer='_tmpX=editorG.G.puntos_X[_indP];_tmpY=editorG.G.puntos_Y[_indP];;_indPR=estaPuntoRef(_tmpX,_tmpY);;;_res=(_res)&(_indPR>=0);indexPrimP=(_indPR==0)?_indP:indexPrimP;;_indP=_indP+1' mientras='(_indP<editorG.G.n_puntos)&(_res)' tipo='función' ">
    <param name="A_41" value="id='verifPoli()' algoritmo='sí' expresión='_bien' inicio='_iP=0;_bien=1' hacer='_iMapP=ordenPuntos[_iP];_iMapP2=(pOriginales.n-_iP)%pOriginales.n;_iMapP2=ordenPuntos[_iMapP2];;_testP1.x=editorG.G.puntos_X[_iMapP];_testP1.y=editorG.G.puntos_Y[_iMapP];;_testP2.x=editorG.G.puntos_X[_iMapP2];_testP2.y=editorG.G.puntos_Y[_iMapP2];;_testPO.x=pReflejados[_iP,0];_testPO.y=pReflejados[_iP,1];;_tmpB1=(_testPO.x==_testP1.x)&(_testPO.y==_testP1.y);_tmpB2=(_testPO.x==_testP2.x)&(_testPO.y==_testP2.y);;;_bien=(_tmpB1|_tmpB2)&(_bien);;_iP=_iP+1' mientras='(_iP<pOriginales.n)&(_bien)' tipo='función' ">
    <param name="A_42" value="id='verificarPaso1()' algoritmo='sí' expresión='x' hacer='verificado=1;pDifPol=pOriginales.n-(nOrdenP-1);_bienPol=(pDifPol==0);;_bienDel=(_bienPol)?verifPoli():0;;;_bienTodos=(_bienPol)&(_bienDel);correcto=(_bienTodos)' tipo='función' ">
    <param name="A_43" value="id='yaEstaOrden(_indexP)' algoritmo='sí' expresión='(!_tmpNoEsta)' inicio='_iP=0' hacer='_tmpNoEsta=(ordenPuntos[_iP]!=_indexP);_iP=_iP+1' mientras='(_iP<nOrdenP)&(_tmpNoEsta)' tipo='función' ">
    <param name="A_44" value="id='calcPaso1()' algoritmo='sí' expresión='x' hacer='_indexSobre=(glassGraf.mouse_pressed)?editorG.sobrePunto(glassGraf.mouse_x,glassGraf.mouse_y):-1;;_cerrando=(_indexSobre==indexPrimP)&(editorG.G.n_puntos==nOrdenP);;_nuevoAdd=(_indexSobre>=0)&((_cerrando)|(!yaEstaOrden(_indexSobre)));ordenPuntos[nOrdenP]=_indexSobre;nOrdenP=nOrdenP+_nuevoAdd;' tipo='función' ">
    <param name="A_45" value="id='__ALGORITMOS________________' expresión='0' tipo='variable' ">
    <param name="A_46" value="id='__EVENTOS_______________' expresión='0' tipo='variable' ">
    <param name="A_47" value="id='INI_ESPACIOS' algoritmo='sí' evaluar='una-sola-vez' hacer='// CFG para el espacio de graficas EDIT;grafica2.w=grafica2._w;grafica2.h=grafica2._h;grafica2.dibujar_si=1;grafica2.escala=42;;;' ">
    <param name="A_48" value="id='INIT_POS' algoritmo='sí' evaluar='una-sola-vez' hacer='verif.w=150;verif.h=30;;otro.w=150;otro.h=30;;modif.w=150;modif.h=30;;grafica2.x=20;grafica2.y=-15;;mensajes.x=10;mensajes.y=-E1._h+mensajes._h+10;;verif.x=(E1._w-2*verif.w-5)/2;verif.y=E1._h-verif.h-15;;otro.x=verif.x+otro.w+5;otro.y=verif.y;;modif.x=(E1._w-modif.w)/2;modif.y=E1._h-modif.h-15;;' ">
    <param name="A_49" value="id='INIT_CTR_EDIT' algoritmo='sí' evaluar='una-sola-vez' hacer='COMM=|************************************************|;COMM=|* CFG del espacio de controles para la edicion *|;COMM=|* de gráficas                                  *|;COMM=|************************************************|;ctrEdicion.dibujar_si=0;ctrEdicion.w=ctrEdicion._w;ctrEdicion.h=ctrEdicion._h;;COMM=|*************************************************|;COMM=|* Posicionamiento de los botones del menu de    *|;COMM=|* edicion de gráficas. Alineados horizontalmente*|;COMM=|*************************************************|;gapBtn=1;;btnSelObj.y=3;btnSelObj.x=3;btnSelObj.w=43;btnSelObj.h=43;;btnClear.w=43;btnClear.h=43;;;btnNewObj.w=btnClear.w;btnNewObj.h=btnClear.h;;btnBorrObj.w=btnClear.w;btnBorrObj.h=btnClear.h;;btnEditObj.y=btnBorrObj.y+btnBorrObj.h+gapBtn;btnEditObj.x=btnSelObj.x;btnEditObj.w=43;btnEditObj.h=btnEditObj.w;;btnCentrar.w=btnClear.w;btnCentrar.h=btnClear.h;btnCentrar.dibujar_si=1;;;;;btnNewObj.y=3;btnNewObj.x=3;;btnBorrObj.x=btnNewObj.x;btnBorrObj.y=btnNewObj.y+btnNewObj.h+gapBtn;;btnClear.x=btnBorrObj.x;btnClear.y=btnBorrObj.y+btnBorrObj.h+gapBtn;;btnCentrar.x=btnClear.x;btnCentrar.y=btnClear.y+btnClear.h+gapBtn;;;;;COMM=|************************************************|;COMM=|* CFG del btn para aparecer el menu de herra-  *|;COMM=|* mientas para edicion de graficas             *|;COMM=|************************************************|;imgToolAct.w=43;imgToolAct.h=43;imgToolAct.x=(grafica2.w-imgToolAct.w);imgToolAct.y=5;' ">
    <param name="A_50" value="id='INICIO' algoritmo='sí' evaluar='una-sola-vez' hacer=';initMacros();;initEjercicio();' ">
    <param name="A_51" value="id='CALCULOS' algoritmo='sí' evaluar='siempre' hacer='p1.x=0;p1.y=0;grafica2.Ox=0;grafica2.Oy=0;;acomodaDep();;tt=(pasoInter==1)?calcPaso1():0;;tt=(pasoInter==0)?actualizaGrafEdit():0;tt=(pasoInter==0)?actGrafEdit():0;;;;tt=(verificado)?actualizaPuntos3D():0;;_cambioP3=(p3.activo)&((p3.x!=p3.xAnt)|(p3.y!=p3.yAnt));;_difX=(p3.xAnt-p3.x);_difX=(abs(_difX)<0.00001)?(p3.yAnt-p3.y):_difX;_sent=(abs(_difX)>0.00001)?(abs(_difX)/_difX):_sent;tt=(_cambioP3)?snapRectaAux():0;radioAux=(verificado)?-1:radioAux;;vecDir.x=2*(p4.x-p3.x);vecDir.y=2*(p4.y-p3.y);_tmpCalc=(vecDir.x!=0)|(vecDir.y!=0);vecDir.ang=(_tmpCalc)?anguloPP(1,0,vecDir.x,vecDir.y):0;vecDir.ang=vecDir.ang*180/pi;;;vecDir.x=vecDir.x+p3.x;vecDir.y=vecDir.y+p3.y;;;;;p3.xAnt=p3.x;p3.yAnt=p3.y;;' ">
    <param name="A_52" value="id='initAnim' evento='sí' condición='verificado' acción='Reiniciar Animación' ejecución='alternar' ">
    <param name="A_53" value="id='initAnim' evento='sí' condición='(verificado)&(!animando)' acción='animar' ejecución='alternar' ">
    <param name="G_01" value="espacio='pleca' tipo='rectángulo' fondo='sí' color='729ad4' coord_abs='sí' expresión='(15,15,994,80)' relleno='f1f2f6' ancho='2' border_radius='6' ">
    <param name="G_02" value="espacio='pleca' tipo='imagen' fondo='sí' coord_abs='sí' expresión='(60,58,0.62,0.62)' archivo='images/avatar_m.svg' clip='(240,0,120,120)' ">
    <param name="G_03" value="espacio='pleca' tipo='texto' fondo='sí' color='000000' coord_abs='sí' expresión='(110,30)' texto='Dibuja la figura simétrica usando la recta perpendicular y el hecho de que los puntos simétricos están a la misma distancia del eje de simetría.' ancho='pleca._w-145' fuente puntos='21' align='a_justify' anchor='a_top_left' ">
    <param name="G_04" value="espacio='pleca' tipo='rectángulo' fondo='sí' color='729ad4' coord_abs='sí' expresión='(15,110,994,450)' relleno='f1f2f6' ancho='2' border_radius='6' ">
    <param name="G_05" value="espacio='grafica2' tipo='ecuación' color='c600ff00' dibujar-si='(!verificado)' coord_abs='no' expresión='(y-p3.y)*p2.y=(x-p3.x)*(-p2.x)' ancho='3' ">
    <param name="G_06" value="espacio='grafica2' tipo='ecuación' color='00e0fd' coord_abs='no' expresión='(y-p1.y)*(p2.x-p1.x)=(x-p1.x)*(p2.y-p1.y)' relleno+='00ff80' relleno-='ffc800' ancho='2' ">
    <param name="G_07" value="espacio='grafica2' tipo='curva' color='(ff,c8,00,(bientTodoG)?0.5:0)' dibujar-si='(verificado)&(correcto)&(pOriginales.n>0)' coord_abs='no' expresión='(pReflejados[t%pOriginales.n,0],pReflejados[t%pOriginales.n,1])' parámetro='t' t.intervalo='[0,pOriginales.n]' t.pasos='pOriginales.n' ancho='2' ">
    <param name="G_08" value="espacio='grafica2' tipo='curva' color='(ff,c8,00,(bientTodoG)?0.5:0)' dibujar-si='pOriginales.n>0' coord_abs='no' expresión='(pOriginales[t%pOriginales.n,0],pOriginales[t%pOriginales.n,1])' parámetro='t' t.intervalo='[0,pOriginales.n]' t.pasos='pOriginales.n' ancho='2' ">
    <param name="G_09" value="espacio='grafica2' tipo='punto' color='ff0000' coord_abs='no' expresión='(pOriginales[s,0],pOriginales[s,1])' familia='s' s.intervalo='[0,pOriginales.n-1]' s.pasos='pOriginales.n-1' fijo='no' tamaño='4' ">
    <param name="G_10" value="espacio='grafica2' tipo='imagen' dibujar-si='radioAux>0' coord_abs='no' expresión='(vecDir.x,vecDir.y,1,1)' archivo='images/x.png' rotini='vecDir.ang' ">
    <param name="G_11" value="espacio='grafica2' tipo='curva' color='(ff,c8,00,(bientTodoG)?0.5:0)' dibujar-si='nOrdenP>1' coord_abs='no' expresión='(editorG.G.puntos_X[ordenPuntos[t]],editorG.G.puntos_Y[ordenPuntos[t]])' parámetro='t' t.intervalo='[0,nOrdenP-1]' t.pasos='nOrdenP-1' ancho='2' ">
    <param name="G_12" value="espacio='grafica2' tipo='macro' coord_abs='no' nombre='editorG' expresión='macros/graficaEditor.txt' posini='[0,0]' ">
    <param name="G_13" value="espacio='grafica2' tipo='punto' color='78ffb700' dibujar-si='(indexPrimP>-1)' coord_abs='no' expresión='(editorG.G.puntos_X[indexPrimP],editorG.G.puntos_Y[indexPrimP])' tamaño='8' ">
    <param name="G_14" value="espacio='ctrEdicion' tipo='punto' color='72b1ff' dibujar-si='editorG.tipoEdicion==-1' coord_abs='sí' expresión='(btnSelObj.x+btnSelObj.w/2-1,btnSelObj.y+btnSelObj.h/2)' tamaño='19' ">
    <param name="G_15" value="espacio='ctrEdicion' tipo='punto' color='72b1ff' dibujar-si='editorG.tipoEdicion==2' coord_abs='sí' expresión='(btnBorrObj.x+btnBorrObj.w/2-1,btnBorrObj.y+btnBorrObj.h/2)' tamaño='19' ">
    <param name="G_16" value="espacio='ctrEdicion' tipo='punto' color='72b1ff' dibujar-si='editorG.tipoEdicion==1' coord_abs='sí' expresión='(btnNewObj.x+btnNewObj.w/2-1,btnNewObj.y+btnNewObj.h/2)' tamaño='19' ">
    <param name="G_17" value="espacio='ctrEdicion' tipo='imagen' coord_abs='sí' expresión='(btnNewObj.x+2.5,btnNewObj.y+2.5)' archivo='images/tools/lapiz.svg' ">
    <param name="G_18" value="espacio='ctrEdicion' tipo='imagen' coord_abs='sí' expresión='(btnBorrObj.x+2.5,btnBorrObj.y+2.5)' archivo='images/tools/goma.svg' ">
    <param name="G_19" value="espacio='ctrEdicion' tipo='imagen' coord_abs='sí' expresión='(btnClear.x+2.5,btnClear.y+2.5)' archivo='images/tools/hoja.svg' ">
    <param name="G_20" value="espacio='mensajes' tipo='texto' color='000000' dibujar-si='puntosDif>0' coord_abs='sí' expresión='[15,15]' texto='Te faltan pintar puntos para completar la figura' ancho='1' fuente puntos='20' align='a_left' anchor='a_top_left' ">
    <param name="G_21" value="espacio='mensajes' tipo='texto' color='000000' dibujar-si='puntosDif<0' coord_abs='sí' expresión='[15,15]' texto='Pintaste más puntos de los que debías' ancho='1' fuente puntos='20' align='a_left' anchor='a_top_left' ">
    <param name="G_22" value="espacio='mensajes' tipo='texto' color='000000' dibujar-si='(!correcto)&(puntosDif==0)&(pasoInter==0)' coord_abs='sí' expresión='[15,15]' texto='Hay puntos que no son simétricos' ancho='1' fuente puntos='20' align='a_left' anchor='a_top_left' ">
    <param name="G_23" value="espacio='mensajes' tipo='texto' color='000000' dibujar-si='(correcto)' coord_abs='sí' expresión='[15,15]' texto='¡Correcto!' ancho='1' fuente puntos='20' align='a_left' anchor='a_top_left' ">
    <param name="G_24" value="espacio='grafica2' tipo='segmento' color='007e00' dibujar-si='radioAux>0' coord_abs='no' expresión='(p3.x,p3.y)(vecDir.x,vecDir.y)' texto='\color{000000}{[radioAux]}' fijo='no' tamaño='0' ancho='3' ">
    <param name="G_25" value="espacio='ctrEdicion' tipo='imagen' dibujar-si='btnCentrar.dibujar_si' coord_abs='sí' expresión='(btnCentrar.x+2.5,btnCentrar.y+2.5)' archivo='images/tools/centrar.png' ">
    <param name="G_26" value="espacio='mensajes' tipo='texto' color='000000' dibujar-si='pDifPol>0' coord_abs='sí' expresión='[15,15]' texto='La figura no está completa' ancho='1' fuente puntos='20' align='a_left' anchor='a_top_left' ">
    <param name="G_27" value="espacio='mensajes' tipo='texto' color='000000' dibujar-si='(!correcto)&(pDifPol==0)&(pasoInter==1)' coord_abs='sí' expresión='[15,15]' texto='Hay líneas que no son simétricas' ancho='1' fuente puntos='20' align='a_left' anchor='a_top_left' ">
    <param name="G_28" value="espacio='grafica2' tipo='texto' color='000000' dibujar-si='(pasoInter==1)&(!verificado)' coord_abs='sí' expresión='[15,15]' texto='Ahora une los puntos haciendo clic en cada uno para formar la figura' ancho='1' fuente puntos='20' align='a_left' anchor='a_top_left' ">
    <param name="S_01" value="espacio='Esp3D' tipo='curva' color='ffc800' expresión='x=surphFig(u) y=_fig.y z=_fig.z' ancho='2' Nu='pOriginales.n' ">
    <param name="S_02" value="espacio='Esp3D' tipo='punto' color='00ba00' color_reverso='00ba00' expresión='(puntos3D[s,0],puntos3D[s,1],puntos3D[s,2])' familia='s' s.intervalo='[0,pOriginales.n-1]' s.pasos='pOriginales.n-1' font_family='Monospaced' fuente puntos='12' decimales='2' ancho='4' offset_dist='10' offset_angle='270' ">
    <param name="Animación" value="pausa='40' controles='no' auto='sí' repetir='no' inicio='_sigAnim=1;incremAnim=pi/20;rot3D=incremAnim;' hacer='_voltea=(rot3D<=0)|(rot3D>=pi);_sigAnim=(_voltea)?-_sigAnim:_sigAnim;_s=(!_volteaAnt)&(_voltea);;_pausaT=max(0,(_pausaT-1));_pausaT=(_s)?10:_pausaT;_pausado=_pausaT>0;;_suma=(_pausado)?0:(incremAnim*_sigAnim);rot3D=min(pi,max(0,rot3D+_suma));;_volteaAnt=_voltea;animando=(verificado)' mientras='animando' ">
  </ajs>

<script type="descartes/macro" id="macros/graficaEditor.txt">
id='G.puntos_X' vector='sí' evaluar='una-sola-vez' tamaño='150' tipo='vector' 
id='G.puntos_Y' vector='sí' evaluar='una-sola-vez' tamaño='150' tipo='vector' 
id='distancia(x1,y1,x2,y2)' algoritmo='sí' expresión='_distTMP' hacer='_dist1=(x2-x1)^2;_dist2=(y2-y1)^2;_distTMP=sqrt(_dist1+_dist2) ' tipo='función' 
id='pix2Coord(x_p,y_p)' algoritmo='sí' expresión='x' hacer='_Cx=esp.WIDTH/2;_Cy=esp.HEIGHT/2;;coordX=(x_p-_Cx-esp.Ox)/esp.escala;coordY=(-y_p+_Cy+esp.Oy)/esp.escala' tipo='función' 
id='sobrePunto(pX,pY)' algoritmo='sí' expresión='_indexSobreTMP' inicio='_indexTMP=-1;_deltaTmp=(G.anchoPuntos/esp.escala);' hacer='_indexTMP=_indexTMP+1;_iMap=max(0,min(_indexTMP,G.n_puntos));;_xTmp=(G.puntos_X[_iMap]);_yTmp=(G.puntos_Y[_iMap]);_distTmp=distancia(_xTmp,_yTmp,pX,pY);_estaSobreTMP=(_distTmp&lt;=_deltaTmp);_indexSobreTMP=(_estaSobreTMP)?_iMap:-1' mientras='(_indexTMP&lt;G.n_puntos)&(!_estaSobreTMP)' tipo='función' 
id='snapPunto(cualPunto)' algoritmo='no' expresión='x' tipo='función' 
id='snapPuntoEsp(cualPunto)' algoritmo='sí' expresión='x' hacer='_tmpX=G.puntos_X[cualPunto];_tmpY=G.puntos_Y[cualPunto];;pix2Coord(0,0);_minX=coordX;_maxY=coordY;;pix2Coord((esp.WIDTH-50),esp.HEIGHT);_maxX=coordX;_minY=coordY;;_tmpX=max(_minX,min(_maxX,_tmpX));_tmpY=max(_minY,min(_tmpY,_maxY));;G.puntos_X[cualPunto]=_tmpX;G.puntos_Y[cualPunto]=_tmpY;' tipo='función' 
id='snapPuntoPriv(cualPunto)' algoritmo='sí' expresión='x' hacer='snapPuntoEsp(cualPunto);snapPunto(cualPunto)' tipo='función' 
id='acomPosEtqPunto(sobreCualP)' algoritmo='sí' expresión='x' hacer='pix2Coord(0,esp.HEIGHT-marco.h);_minX=coordX;_minY=coordY;;pix2Coord(esp.WIDTH-120,5);_maxX=coordX;_maxY=coordY;;marco.x=(sobreCualP&gt;=0)?(G.puntos_X[sobreCualP]):-1000;marco.y=((sobreCualP&gt;=0)?(G.puntos_Y[sobreCualP]):-1000)+(marco.h/esp.escala);marco.x=max(marco.x,_minX);marco.x=min(marco.x,_maxX);;marco.y=max(marco.y,_minY);marco.y=min(marco.y,_maxY);;;despYTexto=(-marco.h+15)/esp.escala;despXTexto=(6/esp.escala);;marco.indexP=sobreCualP' tipo='función' 
id='agregaPunto(cualIndex)' algoritmo='sí' expresión='x' hacer='G.puntos_X[cualIndex]=esp.mouseX;G.puntos_Y[cualIndex]=esp.mouseY;snapPunto(cualIndex);;' tipo='función' 
id='borraPunto(cualPunto)' algoritmo='sí' expresión='x' inicio='_indexP=cualPunto;cualPunto2=cualPunto' hacer='G.puntos_X[_indexP]=G.puntos_X[_indexP+1];G.puntos_Y[_indexP]=G.puntos_Y[_indexP+1];;_indexP=_indexP+1;_finIterTMP=(_indexP&gt;=G.n_puntos);G.n_puntos=G.n_puntos-((_finIterTMP)?1:0)' mientras='!_finIterTMP' tipo='función' 
id='limpiaVars()' algoritmo='no' expresión='x' hacer=';' tipo='función' 
id='calcEditarPunto()' algoritmo='sí' expresión='x' hacer='activo=(_recienPress)?sobrePunto(esp.mouseX,esp.mouseY):activo;_sobreAlguno=(activo&gt;-1);;G.puntos_X[activo]=(_sobreAlguno)?esp.mouseX:G.puntos_X[activo];G.puntos_Y[activo]=(_sobreAlguno)?esp.mouseY:G.puntos_Y[activo];tt=(_sobreAlguno)?snapPuntoPriv(activo):0;;tt=(_sobreAlguno)?acomPosEtqPunto(activo):0;marco.visible=(_sobreAlguno);' tipo='función' 
id='calcSinAccion()' algoritmo='sí' expresión='x' hacer='activo=(_recienPress)?sobrePunto(esp.mouseX,esp.mouseY):activo;tt=(activo&gt;-1)?calcEditarPunto():0;tt=(activo&gt;-1)?acomPosEtqPunto(activo):0;marco.visible=(sobreP1&gt;-1);' tipo='función' 
id='calcBorrar()' algoritmo='sí' expresión='x' inicio='sobreP1=-1;sobreP1_N=-1' hacer='activo=(_recienPress)?sobrePunto(esp.mouseX,esp.mouseY):-1;_algoQueBorrar=(activo&gt;-1);tt=(_algoQueBorrar)?borraPunto(activo):0;marco.visible=0;marco.indexP=0;activo=-1' tipo='función' 
id='calcNuevo()' algoritmo='sí' expresión='x' hacer='activo=(_recienPress)?sobrePunto(esp.mouseX,esp.mouseY):activo;_deboAgregar=(activo&lt;0)&(_recienPress);G.n_puntos=G.n_puntos+((_deboAgregar)?1:0);;_newP=(G.n_puntos-1);tt=(_deboAgregar)?agregaPunto(_newP):calcEditarPunto();activo=(_deboAgregar)?_newP:activo;;marco.visible=(marco.visible)|(activo&gt;-1);marco.visible_=((_recienPress)&(activo&lt;0))?0:marco.visible;tt=(marco.visible&(activo&gt;-1))?acomPosEtqPunto(activo):0' tipo='función' 
id='actualizar()' algoritmo='sí' expresión='x' hacer='_recienPress=(!esp.mousePressedAnt)&(esp.mousePressed);tt=(_recienPress)?limpiaVars():0;;_tmpEvalB=(tipoEdicion==SIN_EDITAR)&(esp.mousePressed);tt=(_tmpEvalB)?calcSinAccion():0;;_tmpEvalB=(tipoEdicion==EDITAR_PUNTO)&(esp.mousePressed);tt=(_tmpEvalB)?calcEditarPunto():0;;_tmpEvalB=(tipoEdicion==BORRAR_PUNTO)&(esp.mousePressed);tt=(_tmpEvalB)?calcBorrar():0;;_tmpEvalB=(tipoEdicion==NUEVO_PUNTO)&(esp.mousePressed);tt=(_tmpEvalB)?calcNuevo():0;;tt=(marco.visible)?acomPosEtqPunto(marco.indexP):0;esp.mousePressedAnt=esp.mousePressed;marco.visible=(G.verMarco)&(activo&gt;-1);_actualizado=1' tipo='función' 
id='debug' expresión='0' evaluar='una-sola-vez' constante='sí' 
id='SIN_EDITAR' expresión='-1' evaluar='siempre' constante='sí' 
id='EDITAR_PUNTO' expresión='0' evaluar='siempre' constante='sí' 
id='NUEVO_PUNTO' expresión='1' evaluar='siempre' constante='sí' 
id='BORRAR_PUNTO' expresión='2' evaluar='siempre' constante='sí' 
id='tipoEdicion' expresión='-1' evaluar='una-sola-vez' constante='sí' 
id='esp.escala' expresión='0' evaluar='una-sola-vez' constante='sí' 
id='esp.Ox' expresión='0' evaluar='una-sola-vez' constante='sí' 
id='esp.Oy' expresión='0' evaluar='una-sola-vez' constante='sí' 
id='esp.mouseX' expresión='0' evaluar='una-sola-vez' constante='sí' 
id='esp.mouseY' expresión='0' evaluar='una-sola-vez' constante='sí' 
id='esp.mousePressed' expresión='0' evaluar='una-sola-vez' constante='sí' 
id='esp.WIDTH' expresión='0' evaluar='una-sola-vez' constante='sí' 
id='esp.HEIGHT' expresión='0' evaluar='una-sola-vez' constante='sí' 
id='G.verGrafica' expresión='1' evaluar='una-sola-vez' constante='sí' 
id='G.verPuntos' expresión='1' evaluar='una-sola-vez' constante='sí' 
id='G.verMarco' expresión='1' evaluar='una-sola-vez' constante='sí' 
id='G.anchoPuntos' expresión='5' evaluar='una-sola-vez' constante='sí' 
id='G.anchoGrafica' expresión='3' evaluar='una-sola-vez' constante='sí' 
id='G.rojo' expresión='1' evaluar='una-sola-vez' constante='sí' 
id='G.verde' expresión='0' evaluar='una-sola-vez' constante='sí' 
id='G.azul' expresión='0' evaluar='una-sola-vez' constante='sí' 
id='G.m' expresión='5' evaluar='una-sola-vez' constante='sí' 
id='G.b' expresión='0' evaluar='una-sola-vez' constante='sí' 
id='G.n_puntos' expresión='10' evaluar='una-sola-vez' constante='sí' 
id='marco.h' expresión='40' evaluar='una-sola-vez' constante='sí' 
id='marco.w' expresión='125' evaluar='una-sola-vez' constante='sí' 
id='activo' expresión='-1' evaluar='una-sola-vez' constante='sí' 
id='_recienPress' expresión='0' evaluar='una-sola-vez' constante='sí' 
id='esp.mousePressedAnt' expresión='0' evaluar='una-sola-vez' constante='sí' 
id='coordX' expresión='0' evaluar='una-sola-vez' constante='sí' 
id='coordY' expresión='0' evaluar='una-sola-vez' constante='sí' 
id='INIT' algoritmo='sí' evaluar='una-sola-vez' hacer='sobreP_Ed=-1;sobreP_N=-1;sobreP_Borrar=-1;sobreP1=-1;_recienPress=0;;;limpiaVars();marco.w=125;marco.h=40' 
id='CALCULOS' algoritmo='sí' evaluar='siempre' hacer='tt=(_actualizado==0)?actualizar():0;_actualizado=0;' 
espacio='E1' tipo='punto' color='(G.rojo,G.verde,G.azul,00)' dibujar-si='(G.verPuntos)' coord_abs='no' expresión='(G.puntos_X[s],G.puntos_Y[s])' familia='s' s.intervalo='[0,G.n_puntos-1]' s.pasos='G.n_puntos-1' tamaño='G.anchoPuntos' 
espacio='E1' tipo='punto' color='000000' dibujar-si='marco.visible' coord_abs='no' expresión='(marco.x+despXTexto,marco.y+despYTexto)' texto='([G.puntos_X[marco.indexP]], [G.puntos_Y[marco.indexP]])' fijo='no' tamaño='0' negrita='sí' fuente puntos='20' 
espacio='E1' tipo='texto' color='0000ff' dibujar-si='debug=1' coord_abs='sí' expresión='[20,20]' texto='_entro1=[_entro1]\nSIN_EDITAR=[SIN_EDITAR]\n tipoEdicion=[tipoEdicion] [_tmpEvalB]\nmarco = [marco.x],[marco.y]\nMouse [esp.mouseX],[esp.mouseY] [esp.mousePressed] _distTmp=[_distTmp]\n min [_minX],[_minY]\n max [_maxX][_maxY]' ancho='1' align='a_left' anchor='a_top_left' 
espacio='E1' tipo='texto' color='0000ff' dibujar-si='debug=2' coord_abs='sí' expresión='[20,20]' texto='G.n_puntos=[G.n_puntos]\nsobreP_Borrar=[sobreP_Borrar]\nsobreP_N=[sobreP_N]\nsobreP_Ed=[sobreP_Ed]\nsobreP1=[sobreP1]\nmarco.indexP=[marco.indexP]\ncualPunto2=[cualPunto2]' ancho='1' align='a_left' anchor='a_top_left' 
</script>

</body>
</html>